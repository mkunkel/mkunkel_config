#!/bin/bash

if [ -z $1 ]; then 
  # $1 was not given
  $1="Deploying"
fi

cp -rv ${PWD} ~/Code/Projects
git add .
git commit -m $1
echo "committed"
DIR=~/Code/Projects/${PWD##*/}
cd $DIR
if [ ! -d "~/Code/Projects/$DIR/.git" ]; then
  # Control will enter here if git has not been initialized.
  git init
  heroku create
  MSG="Initial commit"
else
  MSG=$1
fi
git add .
git commit -m $MSG
git push heroku master
heroku open

